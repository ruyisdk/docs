"use strict";(self.webpackChunkruyisdk=self.webpackChunkruyisdk||[]).push([[923],{2946:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>o,toc:()=>d});var a=t(74848),i=t(28453),r=t(84664);const l={sidebar_position:6},s="More Information",o={id:"Package-Manager/misc",title:"More Information",description:"Updating the Ruyi Package Manager",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/Package-Manager/misc.mdx",sourceDirName:"Package-Manager",slug:"/Package-Manager/misc",permalink:"/docs/en/docs/Package-Manager/misc",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Building the milkv-duo-examples Sample Program",permalink:"/docs/en/docs/Package-Manager/cases/case7"},next:{title:"RuyiSDK IDE",permalink:"/docs/en/docs/category/ruyisdk-ide"}},c={},d=[{value:"Updating the Ruyi Package Manager",id:"updating-the-ruyi-package-manager",level:2},{value:"Uninstalling the Ruyi Package Manager",id:"uninstalling-the-ruyi-package-manager",level:2},{value:"Reporting Issues",id:"reporting-issues",level:2},{value:"Telemetry Data Collection",id:"telemetry-data-collection",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"more-information",children:"More Information"}),"\n",(0,a.jsx)(n.h2,{id:"updating-the-ruyi-package-manager",children:"Updating the Ruyi Package Manager"}),"\n",(0,a.jsx)(n.p,{children:"If you installed the Ruyi Package Manager using the precompiled single binary, simply download the new version of the binary and re-execute the installation process to overwrite the old version of the Ruyi Package Manager binary."}),"\n",(0,a.jsx)(n.p,{children:"If you installed the Ruyi Package Manager using the system package manager, you can directly upgrade it using the system package manager:"}),"\n",(0,a.jsx)(r.Ay,{lang:"bash",showTitleCopyButton:"true",code:"\n$ sudo pacman -Syuu\n"}),"\n",(0,a.jsx)(n.p,{children:"This command will perform a comprehensive upgrade on Arch Linux. Note that Arch Linux does not support partial upgrades."}),"\n",(0,a.jsx)(n.h2,{id:"uninstalling-the-ruyi-package-manager",children:"Uninstalling the Ruyi Package Manager"}),"\n",(0,a.jsx)(n.p,{children:"If you installed the Ruyi Package Manager using the system package manager, please use the system package manager to uninstall it."}),"\n",(0,a.jsx)(n.p,{children:"If you installed the Ruyi Package Manager using the precompiled single binary, you can use the following command to uninstall the Ruyi Package Manager:"}),"\n",(0,a.jsx)(r.Ay,{lang:"bash",showTitleCopyButton:"true",code:"\n$ ruyi self uninstall\n"}),"\n",(0,a.jsx)(n.p,{children:"This command will prompt for a secondary confirmation of the operation. If you wish for the Ruyi Package Manager to execute without asking:"}),"\n",(0,a.jsx)(r.Ay,{lang:"bash",showTitleCopyButton:"true",code:"\n$ ruyi self uninstall -y\n"}),"\n",(0,a.jsx)(n.p,{children:"The above command only removes the Ruyi Package Manager itself. If you wish to delete all caches and installed packages for a clean uninstallation:"}),"\n",(0,a.jsx)(r.Ay,{lang:"bash",showTitleCopyButton:"true",code:"\n$ ruyi self uninstall --purge\n"}),"\n",(0,a.jsx)(n.p,{children:"Similarly, this command will prompt for a secondary confirmation of the operation. If you wish for the Ruyi Package Manager to execute without asking:"}),"\n",(0,a.jsx)(r.Ay,{lang:"bash",showTitleCopyButton:"true",code:"\n$ ruyi self uninstall --purge -y\n"}),"\n",(0,a.jsxs)(n.p,{children:["The Ruyi Package Manager is designed to avoid operations that require superuser privileges. If the Ruyi Package Manager is installed in directories such as ",(0,a.jsx)(n.code,{children:"/usr/local/bin/"})," that require superuser privileges to modify, the ",(0,a.jsx)(n.code,{children:"ruyi self uninstall"})," command will fail."]}),"\n",(0,a.jsx)(n.p,{children:"In this case, you can manually delete all caches and installed packages (they are installed in the home directory and thus do not require superuser privileges to delete):"}),"\n",(0,a.jsx)(r.Ay,{lang:"bash",showTitleCopyButton:"true",code:"\n$ ruyi self clean --all\n"}),"\n",(0,a.jsx)(n.p,{children:"Then manually delete the Ruyi Package Manager itself."}),"\n",(0,a.jsx)(n.h2,{id:"reporting-issues",children:"Reporting Issues"}),"\n",(0,a.jsxs)(n.p,{children:["Submit an issue in the Ruyi Package Manager repository ",(0,a.jsx)(n.a,{href:"https://github.com/ruyisdk/ruyi/issues/new",children:"here"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"telemetry-data-collection",children:"Telemetry Data Collection"}),"\n",(0,a.jsxs)(n.p,{children:["The Ruyi Package Manager collects some operational data from users through telemetry data collection to better understand user usage and improve the Ruyi Package Manager accordingly.\nYou can choose whether to enable telemetry data collection by setting the ",(0,a.jsx)(n.code,{children:"RUYI_TELEMETRY_OPTOUT"})," environment variable. Any of ",(0,a.jsx)(n.code,{children:"1"}),", ",(0,a.jsx)(n.code,{children:"true"}),", ",(0,a.jsx)(n.code,{children:"x"}),", ",(0,a.jsx)(n.code,{children:"y"}),", or ",(0,a.jsx)(n.code,{children:"yes"})," (case-insensitive) disables telemetry and is equivalent to the ",(0,a.jsx)(n.code,{children:"off"})," mode below."]}),"\n",(0,a.jsx)(n.p,{children:"There are three levels of telemetry data collection:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"local"}),": Only saves telemetry data locally and will not send it to a remote server without explicit user consent."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"on"}),": Sends telemetry data to a remote server."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"off"}),": Disables telemetry data collection."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Starting from ",(0,a.jsx)(n.code,{children:"ruyi"})," 0.42.0 (inclusive), the default telemetry mode is ",(0,a.jsx)(n.code,{children:"local"}),", which means each ",(0,a.jsx)(n.code,{children:"ruyi"})," invocation records some non-sensitive operational data and some state information locally, but nothing is uploaded automatically. Uploads only happen when you explicitly enable them (for example, by switching to the ",(0,a.jsx)(n.code,{children:"on"})," mode or running ",(0,a.jsx)(n.code,{children:"ruyi telemetry upload"}),")."]}),"\n",(0,a.jsxs)(n.p,{children:["When the telemetry mode is ",(0,a.jsx)(n.code,{children:"on"}),", collected data is uploaded weekly to servers managed by the RuyiSDK team in the People's Republic of China. The upload day is determined solely by the installation's anonymous ID."]}),"\n",(0,a.jsxs)(n.p,{children:["You can edit the ",(0,a.jsx)(n.code,{children:"ruyi"})," configuration file or simply set the telemetry data collection level through environment variables."]}),"\n",(0,a.jsx)(n.p,{children:"We collect the following data:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Basic information of the machine running:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Architecture and OS"}),"\n",(0,a.jsxs)(n.li,{children:["If the architecture is RISC-V:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"ISA capabilities"}),"\n",(0,a.jsx)(n.li,{children:"Development board model"}),"\n",(0,a.jsx)(n.li,{children:"Number of logical CPUs"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.li,{children:"OS release ID (approximately equivalent to the distribution type)"}),"\n",(0,a.jsx)(n.li,{children:"Type and version of libc"}),"\n",(0,a.jsx)(n.li,{children:"Type of shell (bash, fish, zsh, etc.)"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["Version of ",(0,a.jsx)(n.code,{children:"ruyi"})," at the time of data upload"]}),"\n",(0,a.jsxs)(n.li,{children:["Different invocation patterns of ",(0,a.jsx)(n.code,{children:"ruyi"})," subcommands:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"No parameters are exposed"}),"\n",(0,a.jsx)(n.li,{children:"Granularity of invocation time is 1 minute"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["You can view our ",(0,a.jsx)(n.a,{href:"https://ruyisdk.org/en/docs/legal/privacyPolicy/",children:"privacy policy"})," on the RuyiSDK official website."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},84664:(e,n,t)=>{t.d(n,{Ay:()=>g});var a=t(96540),i=t(26348),r=t(74848);const l=()=>(0,r.jsx)("svg",{height:"16",strokeLinejoin:"round",viewBox:"0 0 16 16",width:"16",style:{color:"currentcolor"},children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.75 0.5C1.7835 0.5 1 1.2835 1 2.25V9.75C1 10.7165 1.7835 11.5 2.75 11.5H3.75H4.5V10H3.75H2.75C2.61193 10 2.5 9.88807 2.5 9.75V2.25C2.5 2.11193 2.61193 2 2.75 2H8.25C8.38807 2 8.5 2.11193 8.5 2.25V3H10V2.25C10 1.2835 9.2165 0.5 8.25 0.5H2.75ZM7.75 4.5C6.7835 4.5 6 5.2835 6 6.25V13.75C6 14.7165 6.7835 15.5 7.75 15.5H13.25C14.2165 15.5 15 14.7165 15 13.75V6.25C15 5.2835 14.2165 4.5 13.25 4.5H7.75ZM7.5 6.25C7.5 6.11193 7.61193 6 7.75 6H13.25C13.3881 6 13.5 6.11193 13.5 6.25V13.75C13.5 13.8881 13.3881 14 13.25 14H7.75C7.61193 14 7.5 13.8881 7.5 13.75V6.25Z",fill:"currentColor"})}),s=()=>(0,r.jsx)("svg",{height:"16",strokeLinejoin:"round",viewBox:"0 0 16 16",width:"16",style:{color:"currentcolor"},children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5607 3.99999L15.0303 4.53032L6.23744 13.3232C5.55403 14.0066 4.44599 14.0066 3.76257 13.3232L4.2929 12.7929L3.76257 13.3232L0.969676 10.5303L0.439346 9.99999L1.50001 8.93933L2.03034 9.46966L4.82323 12.2626C4.92086 12.3602 5.07915 12.3602 5.17678 12.2626L13.9697 3.46966L14.5 2.93933L15.5607 3.99999Z",fill:"currentColor"})}),o=()=>(0,r.jsx)("span",{className:"text-[13px] font-mono text-[#666666] dark:text-[#666666]",children:">_"}),c=e=>{let{textToCopy:n}=e;const[t,i]=(0,a.useState)(!1);return(0,r.jsx)("button",{onClick:async()=>{if(n)try{await navigator.clipboard.writeText(n),i(!0),setTimeout((()=>i(!1)),2e3)}catch(e){console.error("Copy failed:",e)}},className:"flex items-center justify-center p-2 rounded-md border-0 cursor-pointer  transition-all duration-200  text-neutral-500 hover:text-neutral-900 hover:bg-neutral-200  dark:text-neutral-400 dark:hover:text-white dark:hover:bg-neutral-700  focus-visible:outline-2 focus-visible:outline-blue-500 focus-visible:outline-offset-2","aria-label":"Copy code",title:t?"Copied!":"Copy code",children:t?(0,r.jsx)("span",{className:"text-green-500 dark:text-green-400",children:(0,r.jsx)(s,{})}):(0,r.jsx)(l,{})})},d=e=>{let{langs:n,currentLang:t,onLangChange:a}=e;return n&&0!==n.length?(0,r.jsx)("div",{className:"flex items-center gap-1",children:n.map(((e,n)=>{const i=e.lang===t;return(0,r.jsx)("button",{onClick:()=>a(e.lang),className:`\n                            px-2 py-1 text-xs font-medium rounded transition-all duration-200\n                            ${i?"bg-neutral-200 text-neutral-900 dark:bg-neutral-700 dark:text-neutral-100":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 dark:text-neutral-400 dark:hover:text-neutral-100 dark:hover:bg-neutral-800"}\n                        `,"aria-label":`Switch to ${e.lang}`,children:e.lang},e.lang||n)}))}):null},u=e=>{let{title:n,code:t,isHovered:a,copiable:i=!0,langs:l=[],currentLang:s,onLangChange:u}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between pl-4 pr-3 py-0 min-h-[48px] bg-[#FAFAFA]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:["Terminal"===n&&(0,r.jsx)(o,{}),(0,r.jsx)("span",{className:"text-[13px] font-normal tracking-normal  text-[#666666] dark:text-[#666666]",style:{fontFamily:'Geist, Arial, "Apple Color Emoji", sans-serif'},children:n})]}),(0,r.jsx)(d,{langs:l,currentLang:s,onLangChange:u})]}),i&&(0,r.jsx)("div",{className:"transition-opacity duration-200",style:{opacity:a?1:0},children:(0,r.jsx)(c,{textToCopy:t})})]})};function h(e){if("string"!=typeof e)return"";const n=e.replace(/\r\n/g,"\n").split("\n");return n.length>0&&""===n[0].trim()&&n.shift(),n.join("\n")}const g=e=>{let{code:n="",lang:t="bash",langs:l=[],filename:s="",title:o="Terminal",copiable:c=!0}=e;const[d,g]=(0,a.useState)(!1),[p,m]=(0,a.useState)(t),y=(0,a.useMemo)((()=>{if(l&&l.length>0){const e=l.find((e=>e.lang===p));return e?e.code:n}return n}),[l,p,n]),x=(0,a.useMemo)((()=>h(y)),[y]),f=(0,a.useMemo)((()=>function(e,n){return["bash","zsh","shell","sh"].includes(n)?"string"!=typeof e?"":e.split("\n").map((e=>e.replace(/^\s*\$\s+/,"").replace(/^\s*\$/,""))).join("\n"):e}(h(y),p)),[y,p]),j="no"===p?"text":p,v=(0,a.useMemo)((()=>s||(o&&"Terminal"!==o?o:"bash"===p?"Terminal":j)),[s,o,p,j]);return(0,r.jsxs)("div",{className:"rounded-xl font-mono my-6 overflow-hidden text-sm  bg-neutral-50 border border-neutral-200 shadow-sm  dark:bg-neutral-900 dark:border-neutral-800 dark:shadow-black/30",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[(0,r.jsx)(u,{title:v,code:f,isHovered:d,copiable:c,langs:l,currentLang:p,onLangChange:m}),(0,r.jsx)(i.A,{language:j,customStyle:{margin:0,padding:"20px 0px 20px 20px",fontSize:"0.875rem",lineHeight:"1.7",fontWeight:400,backgroundColor:"#FFFFFF"},wrapLines:!0,wrapLongLines:!0,children:x})]})}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>s});var a=t(96540);const i={},r=a.createContext(i);function l(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);