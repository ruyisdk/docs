"use strict";(self.webpackChunkruyisdk=self.webpackChunkruyisdk||[]).push([[8142],{9849:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>r,default:()=>u,frontMatter:()=>l,metadata:()=>c,toc:()=>d});var s=i(4848),a=i(8453);const l={sidebar_position:5},r="Integration mit CMake und Meson",c={id:"Package-Manager/cases/case5",title:"Integration mit CMake und Meson",description:"cmake",source:"@site/i18n/de/docusaurus-plugin-content-docs/current/Package-Manager/cases/case5.md",sourceDirName:"Package-Manager/cases",slug:"/Package-Manager/cases/case5",permalink:"/docs/de/docs/Package-Manager/cases/case5",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Fastboot-Methode zum Flashen des Entwicklungsboards (am Beispiel von Licheepi 4A)",permalink:"/docs/de/docs/Package-Manager/cases/case4"},next:{title:"Verwendung von QEMU und LLVM",permalink:"/docs/de/docs/Package-Manager/cases/case6"}},t={},d=[{value:"cmake",id:"cmake",level:2},{value:"meson",id:"meson",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"integration-mit-cmake-und-meson",children:"Integration mit CMake und Meson"}),"\n",(0,s.jsx)(n.h2,{id:"cmake",children:"cmake"}),"\n",(0,s.jsx)(n.p,{children:"Stellen Sie zun\xe4chst sicher, dass Sie cmake und ninja installiert haben. Falls nicht, k\xf6nnen Sie die folgenden Befehle verwenden:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"# Ubuntu/Debian\nsudo apt-get install cmake ninja-build\n# Fedora\nsudo dnf install cmake ninja-build\n"})}),"\n",(0,s.jsx)(n.p,{children:"Laden Sie zlib herunter:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"wget https://github.com/zlib-ng/zlib-ng/archive/refs/tags/2.2.2.tar.gz\nmkdir zlib-ng\ncd zlib-ng\n"})}),"\n",(0,s.jsx)(n.p,{children:"Installieren und aktivieren Sie die gnu-plct-Toolchain f\xfcr die Kompilierung:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"ruyi install gnu-plct\nruyi venv -t gnu-plct generic venv\n. venv/bin/ruyi-activate\n"})}),"\n",(0,s.jsx)(n.p,{children:"Entpacken Sie zlib:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"tar -xf ./zlib-ng-2.2.2.tar.gz\ncd zlib-ng-2.2.2\n"})}),"\n",(0,s.jsx)(n.p,{children:"Verwenden Sie cmake, um zlib zu erstellen:\nWarum diese Parameter verwendet werden, k\xf6nnen Sie in der Datei toolchain.riscv64-plct-linux-gnu.cmake im venv-Verzeichnis nachlesen."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cmake . -G Ninja -DCMAKE_C_COMPILER=riscv64-plct-linux-gnu-gcc -DZLIB_COMPAT=ON -DWITH_GTEST=OFF\nninja\n"})}),"\n",(0,s.jsx)(n.p,{children:"\xdcberpr\xfcfen Sie die kompilierten Dateien:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"$ file libz.so.1.3.1.zlib-ng \nlibz.so.1.3.1.zlib-ng: ELF 64-bit LSB shared object, UCB RISC-V, RVC, double-float ABI, version 1 (SYSV), dynamically linked, BuildID[sha1]=bb6bdf59fa0fd746b3a6d3586ff1cfabcbe4a6e9, with debug_info, not stripped\n"})}),"\n",(0,s.jsx)(n.h2,{id:"meson",children:"meson"}),"\n",(0,s.jsx)(n.p,{children:"Installieren Sie meson:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"# Ubuntu/Debian\nsudo apt-get install meson\n# Fedora\nsudo dnf install meson\n"})}),"\n",(0,s.jsx)(n.p,{children:"Wie oben, installieren und aktivieren Sie zun\xe4chst die gnu-plct-Toolchain f\xfcr die Kompilierung:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"ruyi install gnu-plct\nruyi venv -t gnu-plct generic venv\n. venv/bin/ruyi-activate\n"})}),"\n",(0,s.jsx)(n.p,{children:"Laden Sie taisei herunter:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"git clone --recurse-submodules --depth=1 https://github.com/taisei-project/taisei\ncd taisei\n"})}),"\n",(0,s.jsx)(n.p,{children:"Gem\xe4\xdf der Datei venv/meson-cross.ini erfolgt die Konfiguration und Kompilierung f\xfcr die Cross-Kompilierung mit meson wie folgt:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"meson setup --cross-file /home/cyan/zlib-ng/venv/meson-cross.ini build/\nmeson compile -C build/\n"})}),"\n",(0,s.jsx)(n.p,{children:"\xdcberpr\xfcfen Sie die kompilierten Dateien:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"$ file build/src/taisei\ntaisei: ELF 64-bit LSB executable, UCB RISC-V, RVC, double-float ABI, version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux-riscv64-lp64d.so.1, BuildID[sha1]=8fb80413e4a41ffeb75450b80a4b068c504b152e, for GNU/Linux 4.15.0, with debug_info, not stripped\n"})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>c});var s=i(6540);const a={},l=s.createContext(a);function r(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);