self.onmessage=e=>{const{apiURL:s}=e.data;if(!s)return void self.postMessage({type:"error",payload:{message:"API URL not provided to worker."}});let o=0;const r=async()=>{if(o>5)return console.warn("Stop retry"),void self.postMessage({type:"error",payload:{message:"Max retries reached"}});try{const e=await fetch(`https://${s}/fe/dashboard`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const o=await e.json();self.postMessage({type:"success",payload:o})}catch(e){console.error("Dashboard API error, will retry",e),o++,setTimeout(r,2**o*1e3)}};r()};