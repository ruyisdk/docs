---
sidebar_position: 6
---

import CodeBlock from '@site/src/components/docs_utils/CodeBlock';

# 更多信息

## 更新 Ruyi 包管理器

如果您使用预编译的单二进制安装 Ruyi 包管理器，直接下载新版本二进制并重新执行安装流程，覆盖旧版本的 Ruyi 包管理器二进制即可。

如果您使用系统包管理器安装 Ruyi 包管理器，则可以直接使用系统包管理器升级：

<CodeBlock lang="bash" showTitleCopyButton="true" code={`
$ sudo pacman -Syuu
`} />

这个命令将在 Arch Linux 执行全面的升级，注意 Arch Linux 并不支持部分升级。

## 卸载 Ruyi 包管理器

如果您使用系统包管理器安装 Ruyi 包管理器，请使用系统包管理器卸载。

如果您使用预编译的单二进制安装 Ruyi 包管理器，可以使用下面的命令卸载 ruyi 包管理器：

<CodeBlock lang="bash" showTitleCopyButton="true" code={`
$ ruyi self uninstall
`} />

这个命令将会询问以二次确认该操作，如果希望 Ruyi 包管理不询问而直接执行：

<CodeBlock lang="bash" showTitleCopyButton="true" code={`
$ ruyi self uninstall -y
`} />

上面的命令只是删除 Ruyi 包管理器本身，如果希望删除所有缓存和安装了的软件包以实现干净的卸载：

<CodeBlock lang="bash" showTitleCopyButton="true" code={`
$ ruyi self uninstall --purge
`} />

同样的，这个命令将会询问以二次确认该操作，如果希望 Ruyi 包管理不询问而直接执行：

<CodeBlock lang="bash" showTitleCopyButton="true" code={`
$ ruyi self uninstall --purge -y
`} />

Ruyi 包管理被设计为避免进行需要超级用户权限的操作，如果 Ruyi 包管理器被安装在 ``/usr/local/bin/`` 等需要超级用户权限才能更改的目录下， ``ruyi self uninstall`` 命令将会失败。

此时您可以手动删除所有缓存和安装了的软件包（它们被安装在家目录故不需要超级用户权限来删除）：

<CodeBlock lang="bash" showTitleCopyButton="true" code={`
$ ruyi self clean --all
`} />

然后手动删除 Ruyi 包管理器本体。

## 报告错误

在 Ruyi 包管理器仓库[提出 issue](https://github.com/ruyisdk/ruyi/issues/new)。

## 遥测数据收集

ruyi 包管理器通过遥测数据收集功能，收集用户在使用 ruyi 包管理器时的一些操作数据，以便于我们更好地了解用户的使用情况，从而更好地改进 ruyi 包管理器。
你可以通过设置 `RUYI_TELEMETRY_OPTOUT` 环境变量来选择是否启用遥测数据收集功能。`1`，`true` 或 `yes` 表示代表关闭遥测，这与下文说的`off`是相同的；默认情况下，遥测数据收集功能是启用的。

有三种遥测数据收集级别：

- `local`: 仅在本地保存遥测数据，不会在没有用户明确同意的情况下发送到远程服务器。
- `on`: 会将遥测数据发送到远程服务器。
- `off`: 关闭遥测数据收集功能。

默认情况下，遥测数据收集级别是 `on`，意味着每一次 `ruyi` 调用都会记录一些非敏感的操作数据和 `ruyi` 的一些状态信息，并每周发送至由`RuyiSDK`管理的在中国大陆的远程服务器。上传会发生在随机的一天，由匿名安装 ID 决定。

你可以编辑 `ruyi` 的配置文件，或者通过简单的通过环境变量来设置遥测数据收集级别。

我们会收集这些数据：

* 所运行的机器的基本信息:
    * 架构和 OS
    * 如果架构为 RISC-V:
        * ISA 能力
        * 开发板的型号
        * 逻辑 CPU 数量
    * OS release ID (大约相当与发行版类型)
    * libc 的类型和版本
    * shell 的类型 (bash, fish, zsh, etc.)
* 在上传数据时 `ruyi` 的版本
* `ruyi` 子命令的不同调用模式:
    * 不会暴露任何参数
    * 调用时间的粒度为 1 分钟

你可以在 RuyiSDK 官网查看我们的[隐私政策](https://ruyisdk.org/docs/legal/privacyPolicy)。

