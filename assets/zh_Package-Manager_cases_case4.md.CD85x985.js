import{_ as a,c as n,a2 as e,o as p}from"./chunks/framework.oYgP5hCw.js";const u=JSON.parse('{"title":"fastboot 方式刷写开发板（以 Licheepi 4A 为例）","description":"","frontmatter":{},"headers":[],"relativePath":"zh/Package-Manager/cases/case4.md","filePath":"zh/Package-Manager/cases/case4.md","lastUpdated":1736837027000}'),i={name:"zh/Package-Manager/cases/case4.md"};function l(o,s,t,c,d,r){return p(),n("div",null,s[0]||(s[0]=[e(`<h1 id="fastboot-方式刷写开发板-以-licheepi-4a-为例" tabindex="-1">fastboot 方式刷写开发板（以 Licheepi 4A 为例） <a class="header-anchor" href="#fastboot-方式刷写开发板-以-licheepi-4a-为例" aria-label="Permalink to &quot;fastboot 方式刷写开发板（以 Licheepi 4A 为例）&quot;">​</a></h1><p>目前 ruyi 包管理器提供了更为简便的操作系统安装方式，通过以下步骤以及相关引导即可完成安装。</p><h2 id="环境" tabindex="-1">环境 <a class="header-anchor" href="#环境" aria-label="Permalink to &quot;环境&quot;">​</a></h2><p>本文基于以下环境进行操作：</p><ul><li>硬件：x86_64 PC</li><li>软件：Ubuntu 22.04</li></ul><h4 id="其他说明" tabindex="-1">其他说明 <a class="header-anchor" href="#其他说明" aria-label="Permalink to &quot;其他说明&quot;">​</a></h4><p>Licheepi 4A 支持从板载 emmc 或 SD 卡启动，刷写具有两种不同的连接方式：</p><ol><li>RISC-V 开发板以 USB 连接线接入 PC</li><li>将 RISC-V 开发板 SD 卡通过读卡器接入 PC</li></ol><p>本例使用了第一种方式。该刷写方式同样适用于向 MilkV Meles 的板载 emmc 刷写镜像。</p><p>在使用普通用户刷写镜像失败时，ruyi 会尝试调用 <code>sudo</code> 提权。</p><p>Licheepi 4A 使用 USB 线与 PC 连接，通过 fastboot 刷写。如果只希望使用普通用户完成刷写过程，可能需要配置 udev 规则。这里提供示例规则仅供参考：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}=&quot;2345&quot;, ATTR{idProduct}==&quot;7654&quot;, MODE=&quot;0666&quot;, GROUP=&quot;plugdev&quot;</span></span>
<span class="line"><span>SUBSYSTEM==&quot;usb&quot;, ATTR{idVendor}=&quot;1234&quot;, ATTR{idProduct}==&quot;8888&quot;, MODE=&quot;0666&quot;, GROUP=&quot;plugdev&quot;</span></span></code></pre></div><h2 id="安装操作系统" tabindex="-1">安装操作系统 <a class="header-anchor" href="#安装操作系统" aria-label="Permalink to &quot;安装操作系统&quot;">​</a></h2><p>在确保已安装 ruyi 包管理器，并且测试 <code>ruyi -V</code> 正常输出版本相关信息后，请继续以下操作。</p><p>ruyi 包管理器提供了为 RISC-V 开发板安装操作系统的功能，为任一型号的 RISC-V 开发板安装镜像都只需要执行：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ruyi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> device</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> provision</span></span></code></pre></div><p>该命令将会返回工具目前所支持的 RISC-V 开发板，选择开发板后将返回所有支持指定开发板的操作系统：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>RuyiSDK Device Provisioning Wizard</span></span>
<span class="line"><span></span></span>
<span class="line"><span>This is a wizard intended to help you install a system on your device for your</span></span>
<span class="line"><span>development pleasure, all with ease.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>You will be asked some questions that help RuyiSDK understand your device and</span></span>
<span class="line"><span>your intended configuration, then packages will be downloaded and flashed onto</span></span>
<span class="line"><span>the device&#39;s storage, that you should somehow make available on this host</span></span>
<span class="line"><span>system beforehand.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Note that, as Ruyi does not run as root, but raw disk access is most likely</span></span>
<span class="line"><span>required to flash images, you should arrange to allow your user account sudo</span></span>
<span class="line"><span>access to necessary commands such as dd. Flashing will fail if the sudo</span></span>
<span class="line"><span>configuration does not allow so.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Continue? (y/N) y</span></span>
<span class="line"><span></span></span>
<span class="line"><span>The following devices are currently supported by the wizard. Please pick your device:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>1. Allwinner Nezha D1</span></span>
<span class="line"><span>2. Canaan Kendryte K230</span></span>
<span class="line"><span>3. Milk-V Duo</span></span>
<span class="line"><span>4. Milk-V Pioneer Box</span></span>
<span class="line"><span>5. SiFive HiFive Unmatched</span></span>
<span class="line"><span>6. Sipeed Lichee RV</span></span>
<span class="line"><span>7. Sipeed LicheePi 4A</span></span>
<span class="line"><span>8. StarFive VisionFive</span></span>
<span class="line"><span>9. StarFive VisionFive2</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Choice? (1-9)</span></span></code></pre></div><p>以上，以 Sipeed LicheePi 4A 为例，需要为其安装镜像，只需要输入对应的序号：<code>7</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Choice? (1-9) 7</span></span>
<span class="line"><span></span></span>
<span class="line"><span>The device has the following variants. Please choose the one corresponding to your hardware at hand:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  1. Sipeed LicheePi 4A (8G RAM)</span></span>
<span class="line"><span>  2. Sipeed LicheePi 4A (16G RAM)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Choice? (1-2) 2</span></span>
<span class="line"><span></span></span>
<span class="line"><span>The following system configurations are supported by the device variant you have chosen. Please pick the one you want </span></span>
<span class="line"><span>to put on the device:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  1. openEuler RISC-V (headless) for Sipeed LicheePi 4A (16G RAM)</span></span>
<span class="line"><span>  2. openEuler RISC-V (XFCE) for Sipeed LicheePi 4A (16G RAM)</span></span>
<span class="line"><span>  3. RevyOS for Sipeed LicheePi 4A (16G RAM)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Choice? (1-3) 3</span></span>
<span class="line"><span></span></span>
<span class="line"><span>We are about to download and install the following packages for your device:</span></span>
<span class="line"><span></span></span>
<span class="line"><span> * board-image/revyos-sipeed-lpi4a</span></span>
<span class="line"><span> * board-image/uboot-revyos-sipeed-lpi4a-16g</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Proceed? (y/N)</span></span></code></pre></div><p>您只需要按照引导提示一步步执行即可。</p>`,21)]))}const g=a(i,[["render",l]]);export{u as __pageData,g as default};
