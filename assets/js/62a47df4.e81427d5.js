"use strict";(self.webpackChunkruyisdk=self.webpackChunkruyisdk||[]).push([[5127],{9112:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>d,frontMatter:()=>c,metadata:()=>i,toc:()=>l});var a=r(4848),s=r(8453);const c={sidebar_position:6},t="\u4f7f\u7528 QEMU \u548c LLVM",i={id:"Package-Manager/cases/case6",title:"\u4f7f\u7528 QEMU \u548c LLVM",description:"\u672c\u6848\u4f8b\u57fa\u4e8e \u4e3a MilkV Duo \u6784\u5efa Coremark",source:"@site/docs/Package-Manager/cases/case6.md",sourceDirName:"Package-Manager/cases",slug:"/Package-Manager/cases/case6",permalink:"/docs/docs/Package-Manager/cases/case6",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"\u4f7f\u7528 CMake \u548c Meson \u96c6\u6210",permalink:"/docs/docs/Package-Manager/cases/case5"},next:{title:"\u6784\u5efa milkv-duo-examples \u793a\u4f8b\u7a0b\u5e8f",permalink:"/docs/docs/Package-Manager/cases/case7"}},o={},l=[];function u(e){const n={a:"a",code:"code",h1:"h1",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"\u4f7f\u7528-qemu-\u548c-llvm",children:"\u4f7f\u7528 QEMU \u548c LLVM"}),"\n",(0,a.jsxs)(n.p,{children:["\u672c\u6848\u4f8b\u57fa\u4e8e ",(0,a.jsx)(n.a,{href:"/docs/docs/Package-Manager/cases/case2",children:"\u4e3a MilkV Duo \u6784\u5efa Coremark"})]}),"\n",(0,a.jsx)(n.p,{children:"\u9996\u5148\u5b89\u88c5\u5fc5\u8981\u7684\u4f9d\u8d56\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"ruyi install llvm-upstream gnu-plct qemu-user-riscv-upstream\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u521b\u5efa\u865a\u62df\u73af\u5883\u5e76\u6fc0\u6d3b\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"ruyi venv -t llvm-upstream --sysroot-from gnu-plct -e qemu-user-riscv-upstream generic venv\n. venv/bin/ruyi-activate\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u89e3\u5305\u51fa coremark \u5e76\u7f16\u8bd1\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"\xabRuyi milkv-venv\xbb $ mkdir coremark\n\xabRuyi milkv-venv\xbb $ cd coremark\n\xabRuyi milkv-venv\xbb $ ruyi extract coremark\n\n\xabRuyi milkv-venv\xbb $ sed -i 's/\\bgcc\\b/riscv64-unknown-linux-gnu-gcc/g' linux64/core_portme.mak\n\xabRuyi milkv-venv\xbb $ make PORT_DIR=linux64 link\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u8fd9\u65f6\u901a\u8fc7 qemu \u8fd0\u884c coremark\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"$ ruyi-qemu coremark.exe\n2K performance run parameters for coremark.\nCoreMark Size    : 666\nTotal ticks      : 19567\nTotal time (secs): 19.567000\nIterations/Sec   : 10221.290949\nIterations       : 200000\nCompiler version : GCCClang 17.0.5\nCompiler flags   : -O2   -lrt\nMemory location  : Please put data memory location here\n                        (e.g. code in flash, data on heap etc)\nseedcrc          : 0xe9f5\n[0]crclist       : 0xe714\n[0]crcmatrix     : 0x1fd7\n[0]crcstate      : 0x8e3a\n[0]crcfinal      : 0x4983\nCorrect operation validated. See readme.txt for run and reporting rules.\nCoreMark 1.0 : 10221.290949 / GCCClang 17.0.5 -O2   -lrt / Heap\n"})})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>i});var a=r(6540);const s={},c=a.createContext(s);function t(e){const n=a.useContext(c);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),a.createElement(c.Provider,{value:n},e.children)}}}]);